<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Result</title>
    <link rel="stylesheet" href="/css/result.css"/>
</head>
<body>
<div th:object="${survey}">
    <h1>Result Of The Survey:</h1>
    <hr/>
    <div>
        Purpose:
        <span th:text="*{purpose}">undefined</span>
    </div>
    <div>
        Minimum participants needed for starting the event:
        <span th:text="*{minimumParticipants}">undefined</span>
    </div>
    <div>
        People who already participated in this survey:
        <ul th:each="entry : ${allDates}">
            <li>
                <span th:text="${ #temporals.format(entry.key, 'E dd.MM') + ':'}">Date</span>&nbsp;
                <span th:text="${'#' + #lists.size(entry.value)}">#0</span> <!--todo use badges-->
                <span th:class="${ #lists.size(entry.value) >= survey.minimumParticipants} ? 'green' : 'red'">&bull;</span>
                <ul th:each="participant : ${entry.value}">
                    <li th:text="${participant.firstName + ' ' + participant.lastName}">Participant</li>
                </ul>
            </li>
        </ul>
    </div>
</div>
</body>
</html>